<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>VeAds_Tool</title>
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">

  <link rel="icon" type="image/x-icon" href="img/favicon.ico">
</head>
<body>

  <!-- This section is always rendered -->
  <!-- Each one of the script sections is called template. data-template-name="application"-->
  <script type="text/x-handlebars" id="application">

    <nav role="navigation" class="navbar navbar-default">
        <div class="navbar-header">          
          <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">VeAds Congfigurator</span>
        </div>
        <div id="navbarCollapse" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li>{{#link-to 'about'}}About{{/link-to}}</li>
            <li>{{#link-to 'pages'}}Pages{{/link-to}}</li>
            <li>{{#link-to 'elements'}}Elements{{/link-to}}</li>
            <li>{{#link-to 'config'}}Config{{/link-to}}</li>
          </ul>
        </div>
    </nav>

    <!-- /*The outlet changes all he content of the parent div*/  -->
    <div>
      {{outlet}}
    </div>

    <footer class="footer">
      by <strong>{{controller.author}}</strong>.
    </footer>

  </script>


<!-- ***** -->
<!-- INDEX -->
<!-- ***** -->
  <script type="text/x-handlebars" id="index">
    Welcome!! This is a <strong>{{controller.appName}}</strong> Tool for <strong>{{controller.companyName}}</strong> and this is the footer section.
  </script>


<!-- ***** -->
<!-- ABOUT -->
<!-- ***** -->
  <script type="text/x-handlebars" id="about">
    <div>
      <p>This is just a test for the future tool super powerful that we are building.</p>
  <br>  <br>
      <b>TODOS:</b>

      <br><br>
      Creation page -> create dynamic identifiers.  
      <br><br>
      Review 1 by 1 all the elements are implemented. View, Model and Config.
      <br><br>
      see bootswatch
      <br><br>
      localforage to persist the fixtures.
      <br><br>
    </div>
  </script>


<!-- ***** -->
<!-- PAGES -->
<!-- ***** -->
  <script type="text/x-handlebars" id="pages">
        <!--/*[:TODO] - Creation of an index page for the pages viewer*/-->
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12 col-sm-4">
          <table class="table">
            <thead>
              <tr><th><h4>Recent Pages</h4></th></tr>
            </thead>
            <tbody>
             {{#each elem in model}} <!--/*These are the pages defined on the route*/-->
                <tr><td>
                  <span class='pageLine'>
                    {{#link-to 'page' elem}}<span>{{elem.name}}</span>{{/link-to}}<span class='muted'> pageId: <span>{{elem.id}}</span></span>
                    <span class="delete-button">
                      <button {{action "deletePage" elem}} >
                        <img src="img/trash.png" alt="delete" height="18" width="18">
                      </button>
                    </span>
                  </span>
                </td></tr>
              {{/each}}
                <tr><td>
                  <span class="pull-right">
                    {{#link-to 'pages'}}<div class="btn btn-primary btn-sm">Create Page</div>{{/link-to}}
                 </span>
                </td></tr>
              </tbody>
          </table>
        </div>        
        <div class="col-xs-12 col-sm-8">
         {{outlet}}
        </div>
      </div>
    </div>
  </script>


  <script type="text/x-handlebars" id="pages/index">

    <div class="container-fluid panel panel-primary pages-index">
      <div class="row panel-heading">
        <div class="col-xs-12">
          <h4 class="panel-title">New Page Creation</h4>
        </div> 
      </div> 
      <div class="row panel-body">
        <div class="col-xs-12 form-group">
          <label class="inputLabel" for="newPage">Name:</label>
          <span class="pageInput">
            {{input type="text" class="form-control" id="newPName" value=newPName placeholder="New name"}}
           </span>
        </div>        
      </div>
      <div class="row panel-body">
        <div id="newTypePages" class="col-xs-12 form-group">
          <label class="inputLabel" for="newPage">Page type Selection:</label>
          <span class="pageInput">
            {{view "select" content=pageTypeElements}}
          </span>
        </div>        
      </div>
      <div class="row panel-body">
        <div class="col-xs-12 form-group">
          <label class="inputLabel" for="newPage">Address:</label>
          <div role="tabpanel">

            <!-- /*Nav tabs*/ -->
            <ul class="nav nav-tabs" role="tablist" id="addressesTab">
              <li role="presentation" class="active"><a href="#newAddress" aria-controls="newAddress" role="tab" data-toggle="tab">New</a></li>
            </ul>

            <!-- /*Tab panes*/ -->
            <div class="tab-content">
              <div role="tabpanel" class="tab-pane active" id="newAddress">

                <label class="inputLabel" for="newAddres">Url:</label>
                <span class="pageInput">
                  {{input type="text" id="newPUrl" class="form-control" placeholder="Url of the page" value=newPUrl insert-newline="createAddress"}}
                </span>
                <label class="inputLabel" for="newAddress">Params:</label>
                
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-xs-6 form-group">
                      <label class="inputLabel" for="newAddres">Key:</label>
                      <span class="pageInput">
                        {{input type="text" id="newPkey" class="form-control" placeholder="param key" value=newPkey insert-newline="createAddress"}}
                      </span>   
                    </div>  

                    <div class="col-xs-6 form-group">
                      <label class="inputLabel" for="newAddres">Value:</label>
                      <span class="pageInput">
                        {{input type="text" id="newPvalue" class="form-control" placeholder="param value" value=newPvalue insert-newline="createAddress"}}
                      </span>   
                    </div>  
                  </div>  
                  <div class="row">
                    <div class="col-xs-12">
                    <span class="pull-right">
                      <button class="btn btn-primary btn-sm" {{action "createAddress"}} >Add</button>
                    </span>   
                    </div>
                  </div>
                </div>
              </div>
            </div> 
          </div> 
        </div>        
      </div>      
      <div class="row panel-footer">
        <div class="col-xs-8 col-sm-8 col-md-9 col-lg-10 alert-slot">    
        </div>
        <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">  
          <span class="pageInput pull-right">
            <button class="btn btn-primary btn-sm" {{action "createPage"}} >Create Page</button>
          </span>      
        </div>      
      </div>
    </div>
  </script>


<!-- ******** -->
<!-- * PAGE * -->
<!-- ******** -->
  <script type="text/x-handlebars" id="page">

    <div class="modelTitle">

      <h1>{{name}}</h1>
      <h2>with ID: <span>{{id}}</span></h2>
      <span class="delete-button">
        <button {{action "deletePage" this}} >
          <img src="img/trash.png" alt="delete" height="18" width="18">
        </button>
      </span>
    </div>
    <div class="edit-button">
      {{#if isEditing}}
        Editing...
        <button class="btn btn-primary btn-sm" {{action "doneEditing" this}} >Done</button>
        <div>
          {{partial 'pageedit'}}
        </div>
      {{else}}
        <button class="btn btn-primary btn-sm" {{action "edit"}} >Edit</button>
      {{/if}}
    </div>
	<div>
      <strong>type:</strong> <span>{{pageType}}</span>
    </div> 
    <div>
      {{address}}
    </div> 
    <div>
      {{#each elem in addresses}} <!--/*These are the pages defined on the route*/-->
          <div><strong>Url:</strong><span>{{elem.url}}</span> <strong>Params:</strong><span>{{elem.params}}</span></div>
      {{/each}}
    </div>   
	<div>
      <strong>Elements applied:</strong> [<span>{{elements}}</span>]
    </div> 
  </script>

  <script type="text/x-handlebars" id="_pageedit">
      Name:
      <span>
        {{textarea valueBinding='name'}}
      </span> 
      Addresses:     
      <span>
        {{#each elem in addresses}} <!--/*These are the pages defined on the route*/-->
            <span>{{textarea valueBinding='elem.url'}}</span><span>{{textarea valueBinding='elem.params'}}</span>
        {{/each}}
      </span> 
  </script>


<!-- ******** -->
<!-- ELEMENTS -->
<!-- ******** -->
  <script type="text/x-handlebars" id="elements">
        <!--/*[:TODO] - Creation of an index page for the pages viewer*/-->
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12 col-sm-4">
          <table class="table">
            <thead>
              <tr><th><h4>Recent Elements</h4></th></tr>
            </thead>
            <tbody>
             {{#each elem in model}} <!--/*These are the pages defined on the route*/-->
                <tr><td>
                  <span class='pageLine'>{{#link-to 'element' elem}}<span>{{elem.name}}</span>{{/link-to}} <span class='muted'> pageId: <span>{{elem.id}}</span></span></span>
                  <span class="delete-button">
                    <button {{action "deleteElement" elem}} >
                      <img src="img/trash.png" alt="delete" height="18" width="18">
                     </button>
                  </span>
                </td></tr>
              {{/each}}
                <tr><td>
                  <span class="pull-right">
                    {{#link-to 'elements'}}<div class="btn btn-primary btn-sm">Create Element</div>{{/link-to}}
                 </span>
                </td></tr>
            </tbody>
          </table>
        </div>        
        <div class="col-xs-12 col-sm-8">
         {{outlet}}
        </div>
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="elements/index">
    <div class="container-fluid panel panel-primary element-index">
      <div class="row panel-heading">
        <div class="col-xs-12">
          <h4 class="panel-title">New Element Creation</h4>
        </div> 
      </div> 
      <div class="row panel-body">
        <div class="col-xs-12 form-group">
          <label class="inputLabel" for="newEName">Name:</label>
          <span class="pageInput">
            {{input type="text" class="form-control" id="newEName" placeholder="New name" value=newEName insert-newline="createElement"}}
           </span>
        </div>        
      </div>
      <div class="row panel-body">
        <div id="newTypeElements" class="col-xs-12 form-group">
          <label class="inputLabel" for="newPage">Element type Selection:</label>
          <span class="pageInput">
            {{view "select" content=dataTypeElements}}
          </span>
        </div>        
      </div>
      <div class="row panel-body">
        <div class="col-xs-12 form-group grey-panel">

          <label class="inputLabel">Capture Info:</label>

          <div class="container-fluid">
          	<div class="row">
	            <div id="newEType" class="col-xs-12 form-group">
					<label class="inputLabel">Type:</label>
					<span class="pageInput">
						<form>
							<span><input type="radio" name="newEType" value="selector" checked>Selector</span>
							<span><input type="radio" name="newEType" value="globalVariable">Global Variable</span>						
							<span><input type="radio" name="newEType" value="dataLayer">Data Layer</span>
							<span><input type="radio" name="newEType" value="dataLayerReverse">Data Layer Reverse</span>
						</form>
					</span>  
	            </div> 
	        </div>
	        <div class="row">
	            <div id="newECriteria" class="col-xs-12 form-group">
					<label class="inputLabel">Criteria:</label>
					<span class="pageInput">
						<form>
							<span><input type="radio" name="newECriteria" value="contains" checked>Contains</span>
							<span><input type="radio" name="newECriteria" value="equal">Equal</span>
						</form>
					</span>
	            </div> 
	        </div>
	       	<div class="row">
	            <div class="col-xs-12 form-group">
					<label class="inputLabel">Selector:</label>
					<span class="pageInput">
						{{input type="text" id="newESelector" class="form-control" placeholder="#exampleId / variableName" value=newESelector insert-newline="createElement"}}
					</span>  
	            </div> 
	        </div>
            <div class="row">
	          	<div class="col-xs-12 form-group">
	            	<label class="inputLabel">Use formmappings:</label>
	            	<span class="pageInput">
	            		<form>
	              			{{input type="checkbox" id="newEFormMappigns" checked=newEFormMappigns insert-newline="createElement"}}
	              		</form>
	            	</span>   
	          	</div>      
            </div> 
          </div>
        </div>        
      </div> 
      <div class="row panel-body">
        <div class="col-xs-12 form-group grey-panel">

          <label class="inputLabel">Regex:</label>

          <div class="container-fluid">
            <div class="row">
              <div class="col-xs-6 form-group">
                <label class="inputLabel" for="newEregexinclude">Include</label>
                <span class="pageInput">
                  {{input type="text" id="newEregexinclude" class="form-control" placeholder="e;kj;k" value=newEregexInclude insert-newline="createElement"}}
                </span>   
              </div>  

              <div class="col-xs-6 form-group">
                <label class="inputLabel" for="newEregexexclude">Exclude</label>
                <span class="pageInput">
                  {{input type="text" id="newEregexexclude" class="form-control" placeholder=";kj;k" value=newEregexExclude insert-newline="createElement"}}
                </span>   
              </div>  
            </div> 
          </div>    
        </div>    
      </div> 
      <div class="row panel-body">
        <div class="col-xs-12 form-group">
          <label class="inputLabel" for="newEfallback">Fallback:</label>
          <span class="pageInput">
            {{input type="text" id="newEfallback" class="form-control" placeholder="10" value=newEfallback insert-newline="createElement"}}
          </span>
        </div>        
      </div>      
      <div class="row panel-body">
        <div class="col-xs-12 form-group pages-to-apply">
          <label class="inputLabel">Pages to apply:</label>

          I want to hide this on a dropdown. Add some dropdown icon
          <dl class="dropdown"> 
            
              <dt>
                <span class="multiSel">Select<span class="checkedSelected">0</span></span>   
              </dt>
            
              <dd>
                <div class="multiSelect">
                  <ul>
                    <!--/*
                    Example of how it looks like:
                    <li><input type='checkbox' value='0' /> Name:<span>Example Name</span> ID:<span>0</span></li>
                    <li><input type='checkbox' value='1' /><span>1</span> <span>Product Page</span></li>
                    <li><input type='checkbox' value='2' /><span>2</span> <span>Basket Page</span></li>*/-->
                  </ul>
                <!--/*We should do value={{page.id}} but it's not supported yet, so if we want value=ID we need to do it manually
                  <ul>
                    {{#each page in currentPages}}

                        <li><input type="checkbox" value={{page.id}} /><span>{{page.id}}</span> <span>{{page.name}}</span></li>
                    {{/each}}
                  </ul>*/-->
                </div>
              </dd>
          </dl>
        </div>        
      </div>
      <div class="row panel-footer">
        <div class="col-xs-8 col-sm-8 col-md-9 col-lg-10 alert-slot">    
        </div>
        <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">  
          <span class="pageInput pull-right">
            <button class="btn btn-primary btn-sm" {{action "createElement"}}>Create Element</button>
           </span>
        </div>        
      </div>
    </div>
  </script>


<!-- ******** -->
<!--  ELEMENT -->
<!-- ******** -->
  <script type="text/x-handlebars" id="element">

    <div class="modelTitle">

      <h1>{{name}}</h1>
      <h2>with ID: <span>{{id}}</span></h2>
      <span class="delete-button">
        <button {{action "deleteElement" this}} >
          <img src="img/trash.png" alt="delete" height="18" width="18">
        </button>
      </span>
    </div>
    <div class="edit-button">
      {{#if isEditing}}
        Editing...
        <button class="btn btn-primary btn-sm" {{action "doneEditing" this}} >Done</button>
        <div>
          {{partial 'elementedit'}}
        </div>
      {{else}}
        <button class="btn btn-primary btn-sm" {{action "edit" this}} >Edit</button>
      {{/if}}
    </div>
	<div>
	<strong>Capture:</strong> 	
		<div>Selector: <span>{{captureSelector}}</span></div>
		<div>Type: <span>{{captureType}}</span></div>
		<div>Criteria: <span>{{captureCriteria}}</span></div>
		<div>UseMappings: <span>{{captureUseMappings}}</span></div>
    </div>      
	<div>
      <strong>type:</strong>  <span>{{elementType}}</span>
    </div>  
	<div>
      <strong>Fallback:</strong>  <span>{{fallback}}</span>
    </div>     
	<div>
      <strong>Regex:</strong> Include <span>{{regexInclude}}</span>, Exclude <span>{{regexExclude}}</span>
    </div>                 
    <div>
      <strong>Pages to apply:</strong>  [<span>{{pages}}</span>]
    </div> 
  </script>

  <script type="text/x-handlebars" id="_elementedit">
      Name:
      <span>
        {{textarea valueBinding='name'}}
      </span>
      Selector:
      <span>
        {{textarea valueBinding='captureSelector'}}
      </span>        
      Type:
      <span>
        {{textarea valueBinding='captureType'}}
      </span>  
      Criteria:
      <span>
        {{textarea valueBinding='captureCriteria'}}
      </span>        
      UseMappings:
      <span>
        {{textarea valueBinding='captureUseMappings'}}
      </span>      
      Fallback:
      <span>
        {{textarea valueBinding='fallback'}}
      </span>
      Regex include:
      <span>
        {{textarea valueBinding='regexInclude'}}
      </span>
      Regex exclude:
      <span>
        {{textarea valueBinding='regexExclude'}}
      </span>
      Pages:
      <span>
        {{textarea valueBinding='pages'}}
      </span>
  </script>


<!-- ****** -->
<!-- CONFIG -->
<!-- ****** -->
  <script type="text/x-handlebars" id="config">

    <div class="modelTitle">

      <h1>Configuration Object</h1>
    </div>    
    <div class="intro config">  
      <div class="container-fluid">
        <div class="row">
          <div class="col-xs-12 col-sm-5 col-md-4">
            <div class="container-fluid panel panel-primary">
              <div class="row panel-heading">
                <div class="col-xs-12">

                  <h4 class="panel-title">Global features:</h4>
                </div>   
              </div>   
              <div class="row panel-body">    
               <!--/* <div class="col-xs-12 form-group">
                    
                  <label class="inputLabel">Flex ID:</label> 
                  <span> {{input class="form-control" type="text" id="flexID" placeholder="6 Digit code" value=flexID}}</span> 
                </div>     */  -->                         
                <div class="col-xs-12 form-group">
                    
                  <label class="inputLabel">Version:</label> 
                  <span> {{input class="form-control" type="text" id="version" value=version}}</span> 
                </div>
                <div class="col-xs-12 form-group">
                    
                  <label class="inputLabel">avoidDOM:</label> 
                  <span> {{input class="form-control" type="text" id="avoidDOM" value=avoidDOM}}</span> 
                </div> 
               <!--/* <div class="col-xs-12 form-group">

                  <label class="inputLabel">Genie J.Code:</label>
                  <span> {{input class="form-control" type="text" id='GenieJC' placeholder="aBceDelkj" value=GenieJC}}</span> 
                </div>
                <div class="col-xs-12 form-group">

                  <label class="inputLabel">Conversion ID:</label> 
                  <span>{{input class="form-control" type="text" id='ConversionID' placeholder="Conversion ID" value=ConversionID}}</span> 
                </div>
                <div class="col-xs-12 form-group">

                  <label class="inputLabel">Segment IDs:</label>
                  <div class="container-fluid">
                    <div class="row">
                          <div class="col-xs-12">
                            {{input class="form-control" type="text" id='SegProdPage' placeholder="Product P." value=SegProdPage}}
                          </div>  
                      </div>  
                    <div class="row">
                      <div class="col-xs-12">
                        {{input class="form-control" type="text" id='SegCompPage' placeholder="Complete P." value=SegCompPage}}
                      </div>
                    </div>  
                    <div class="row">                
                      <div class="col-xs-12">
                        {{input class="form-control" type="text" id='SegROSPage' placeholder="ROS Page" value=SegROSPage}}
                      </div>
                    </div>
                  </div>    
                </div> */-->   
              </div>
            </div>
          </div>        
          <div class="col-xs-12 col-sm-7 col-md-8">
            <span class="configBox">

              <span class="configObject">config: {
                <!--/*<span class="configObject">flexID:<span>{{flexID}}</span>,</span>*/--> 
               <!--/* <span class="configObject">GenieJC:<span>{{GenieJC}}</span>,</span>
                <span class="configObject">ConversionID:<span>{{ConversionID}}</span>,</span>
                <span class="configObject">SegmentIds: [<span>{{SegProdPage}}</span>,<span>{{SegCompPage}}</span>,<span>{{SegROSPage}}</span>],</span>*/--> 
                <span class="configObject">timeStamp:"<span>{{timeStamp}}</span>",</span>
                <span class="configObject">version:"<span>{{version}}</span>",</span>
                <span class="configObject">avoidDOM:<span>{{avoidDOM}}</span></span>},
              </span>
              <span class="configObject pages">
              </span>  
              <span class="configObject elements">
              </span>                  
            </span>
          </div> 
        </div> 
      </div> 
    </div> 
  </script>

  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/handlebars-v1.3.0.js"></script>
  <script src="js/libs/ember-1.11.0.js"></script>
  <script src="js/libs/ember-data.js"></script>
  <script src="js/libs/ember-template-compiler-1.11.0.js"></script>
  <script src="js/libs/bootstrap.js"></script>
  <script src="js/libs/bootstrap.min.js"></script>
  <script src="js/application.js"></script>
  <script src="js/router.js"></script>
  <script src="js/models/Page.js"></script>
  <script src="js/models/Element.js"></script>
  <script src="js\controllers\Pages_controller.js"></script>
  <script src="tests/runner.js"></script>
</body>
</html>