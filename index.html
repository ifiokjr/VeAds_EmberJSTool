<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Ember Starter Kit</title>
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>

  <!-- This section is always rendered -->
  <!-- Each one of the script sections is called template. data-template-name="application"-->
  <script type="text/x-handlebars" id="application">

    <nav role="navigation" class="navbar navbar-default">
        <div class="navbar-header">          
          <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">VeAds Congfigurator</a>
        </div>
        <div id="navbarCollapse" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li>{{#link-to 'about'}}About{{/link-to}}</li>
            <li>{{#link-to 'pages'}}Pages{{/link-to}}</li>
            <li>{{#link-to 'elements'}}Elements{{/link-to}}</li>
            <li>{{#link-to 'config'}}Config{{/link-to}}</li>
          </ul>
        </div>
    </nav>

    <!-- /*The outlet changes all he content of the parent div*/  -->
    <div>
      {{outlet}}
    </div>

    <footer class="footer">
     <!--/* <div class="container-fluid panel panel-primary">
        <div class="row panel-heading">
          <div class="col-xs-12">

            <h4 class="panel-title">Global features:</h4>
            flexID: <span>{{flexID}}</span>, <span>{{flexID}}</span> 
          </div>   
        </div>   
        <div class="row panel-body">    
          <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3 form-group">
              
            <label class="inputLabel">Flex ID:</label> 
            <span> {{input class="form-control" type="text" id="flexID" placeholder="6 Digit code" value=flexID}}</span> 
          </div>
          <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3 form-group">

            <label class="inputLabel">Genie J.Code:</label>
            <span> {{input class="form-control" type="text" id='GenieJC' placeholder="aBceDelkj" value=GenieJC}}</span> 
          </div>
          <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3 form-group">

            <label class="inputLabel">Conversion ID:</label> 
            <span>{{input class="form-control" type="text" id='ConversionID' placeholder="Conversion ID" value=ConversionID}}</span> 
          </div>
          <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3 form-group">

            <label class="inputLabel">Segment IDs:</label>
            <div class="container-fluid">
              <div class="row">
                  <div class="col-xs-12">
                    {{input class="form-control" type="text" id='SegProdPage' placeholder="Product P." value=SegProdPage}}
                  </div>  
              </div>  
              <div class="row">
                  <div class="col-xs-12">
                    {{input class="form-control" type="text" id='SegCompPage' placeholder="Complete P." value=SegCompPage}}
                  </div>
              </div>  
              <div class="row">                
                  <div class="col-xs-12">
                    {{input class="form-control" type="text" id='SegROSPage' placeholder="ROS Page" value=SegROSPage}}
                  </div>
              </div>
            </div>        
          </div>
        </div>
      </div>*/-->


      by <strong>{{controller.author}}</strong>.
    </footer>

  </script>


<!-- ***** -->
<!-- INDEX -->
<!-- ***** -->
  <script type="text/x-handlebars" id="index">
    Welcome!! This is a <strong>{{controller.appName}}</strong> Tool for <strong>{{controller.companyName}}</strong> and this is the footer section.
  </script>

<!-- ***** -->
<!-- ABOUT -->
<!-- ***** -->
   <!-- Ember will match the route about with the about id. -->
  <script type="text/x-handlebars" id="about">
    <div>
      <p>This is just a test for the future tool super powerful that we are building.</p>
  <br>  <br>
      <b>TODOS:</b>
 
       <br><br>  
       config object rendered correctly. Missing rendering the computed property after adding fixtures.    
       <br><br>     
       Creation of the address as an object, and modification of the display of the object
      <br><br>
      persistance for when "reloading" things not dissappearing.
      <br><br>
      possibility of editing and removing elements / pages
      <br><br>
      calculation of ID of pages and elements properly. currently is .length+1, but if we allow removal / editing, id will be duplicated. 
      <br><br>
    </div>
  </script>

<!-- ***** -->
<!-- PAGES -->
<!-- ***** -->
  <script type="text/x-handlebars" id="pages">
        <!--/*[:TODO] - Creation of an index page for the pages viewer*/-->
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-3">
          <table class="table">
            <thead>
              <tr><th><h4>Recent Pages</h4></th></tr>
            </thead>
            <tbody>
             {{#each elem in model}} <!--/*These are the pages defined on the route*/-->
                <tr><td>
                  <span class='pageLine'>{{#link-to 'page' elem}}<span>{{elem.name}}</span>{{/link-to}}<span class='muted'> pageId: <span>{{elem.id}}</span></span></span>
                </td></tr>
              {{/each}}
                <tr><td>
                  <span class="pull-right">
                    {{#link-to 'pages'}}<div class="btn btn-primary btn-sm">Create Page</div>{{/link-to}}
                 </span>
                </td></tr>
            </tbody>
          </table>
        </div>        
        <div class="col-xs-9">
         {{outlet}}
        </div>
      </div>
    </div>
  </script>


  <script type="text/x-handlebars" id="pages/index">

    <div class="container-fluid panel panel-primary pages-index">
      <div class="row panel-heading">
        <div class="col-xs-12">
          <h4 class="panel-title">New Page Creation</h4>
        </div> 
      </div> 
      <div class="row panel-body">
        <div class="col-xs-12 form-group">
          <label class="inputLabel" for="newPage">Name:</label>
          <span class="pageInput">
            {{input type="text" class="form-control" id="newPName" placeholder="New name" value=newPName insert-newline="createPage"}}
           </span>
        </div>        
      </div>

      <!--/*[:TODO] - EMBER DOESN'T SUPPORT DROPDOWN SELECT, IT HAS TO BE CUSTOM, LATER ON ALSO THE SUPPORT FOR INPUT-URL*/-->
      <!--/*<div class="row panel-body">
        <div class="col-xs-12 form-group">
          <label class="inputLabel" for="newPage">Page type:</label>
          <span class="pageInput">
            {{input type="text" id="newPType" class="form-control" placeholder="Page type" value=newPType insert-newline="createPage"}}
          </span>
        </div>        
      </div>*/-->
      <div class="row panel-body">
        <div class="col-xs-12 form-group">
          <label class="inputLabel" for="newPage">Page type Selection:</label>
          <span class="pageInput">
            {{view "select" content=pageTypeElements value=selectedPageType}}
          </span>
        </div>        
      </div>
      <div class="row panel-body">
        <div class="col-xs-12 form-group">
          <label class="inputLabel" for="newPage">Url:</label>
          <span class="pageInput">
              {{input type="text" id="newPUrl" class="form-control" placeholder="Url of the page" value=newPUrl insert-newline="createPage"}}
          </span>
        </div>        
      </div>      
      <div class="row panel-footer">
        <div class="col-xs-8 col-sm-8 col-md-9 col-lg-10 alert-slot">    
        </div>
        <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">  
          <span class="pageInput pull-right">
            <button class="btn btn-primary btn-sm" {{action "createPage"}} >Create Page</button>
          </span>      
        </div>      
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="page">

    <div class="modelTitle">

      <h1>{{name}}</h1>
      <h2>with ID: <span>{{id}}</span></h2>
    </div>

    <div class="intro">
      {{pageType}}
    </div> 

    <div class="below-the-fold">
      {{address}}
    </div>   
    <div class="intro">
      Elements applied: <span>{{elements}}</span>
    </div> 

  </script>


<!-- ******** -->
<!-- ELEMENTS -->
<!-- ******** -->
  <script type="text/x-handlebars" id="elements">
        <!--/*[:TODO] - Creation of an index page for the pages viewer*/-->
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12 col-sm-4 col-md-3">
          <table class="table">
            <thead>
              <tr><th><h4>Recent Elements</h4></th></tr>
            </thead>
            <tbody>
             {{#each elem in model}} <!--/*These are the pages defined on the route*/-->
                <tr><td>
                  <span class='pageLine'>{{#link-to 'element' elem}}<span>{{elem.name}}</span>{{/link-to}} <span class='muted'> pageId: <span>{{elem.id}}</span></span></span>
                </td></tr>
              {{/each}}
                <tr><td>
                  <span class="pull-right">
                    {{#link-to 'elements'}}<div class="btn btn-primary btn-sm">Create Element</div>{{/link-to}}
                 </span>
                </td></tr>
            </tbody>
          </table>
        </div>        
        <div class="col-xs-12 col-sm-8 col-md-9">
         {{outlet}}
        </div>
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="elements/index">
    <div class="container-fluid panel panel-primary element-index">
      <div class="row panel-heading">
        <div class="col-xs-12">
          <h4 class="panel-title">New Element Creation</h4>
        </div> 
      </div> 
      <div class="row panel-body">
        <div class="col-xs-12 form-group">
          <label class="inputLabel" for="newPage">Name:</label>
          <span class="pageInput">
            {{input type="text" class="form-control" id="newEName" placeholder="New name" value=newEName insert-newline="createElement"}}
           </span>
        </div>        
      </div>

      <!--/*[:TODO] - EMBER DOESN'T SUPPORT DROPDOWN SELECT, IT HAS TO BE CUSTOM, LATER ON ALSO THE SUPPORT FOR INPUT-URL*/-->
      <div class="row panel-body">
        <div class="col-xs-12 form-group">
          <label class="inputLabel" for="newPage">Element selector:</label>
          <span class="pageInput">
            {{input type="text" id="newESelector" class="form-control" placeholder="#exampleId" value=newESelector insert-newline="createElement"}}
          </span>
        </div>        
      </div>      
      <div class="row panel-body">
        <div class="col-xs-12 form-group pages-to-apply">
          <label class="inputLabel" for="newPage">Pages to apply:</label>

          I want to hide this on a dropdown. Add some dropdown icon
          <dl class="dropdown"> 
            
              <dt>
                <span class="multiSel">Select<span class="checkedSelected">0</span></span>   
              </dt>
            
              <dd>
                <div class="multiSelect">
                  <ul>
                    <!--/*
                    Example of how it looks like:
                    <li><input type='checkbox' value='0' /> Name:<span>Example Name</span> ID:<span>0</span></li>
                    <li><input type='checkbox' value='1' /><span>1</span> <span>Product Page</span></li>
                    <li><input type='checkbox' value='2' /><span>2</span> <span>Basket Page</span></li>*/-->
                  </ul>
                <!--/*We should do value={{page.id}} but it's not supported yet, so if we want value=ID we need to do it manually
                  <ul>
                    {{#each page in currentPages}}

                        <li><input type="checkbox" value={{page.id}} /><span>{{page.id}}</span> <span>{{page.name}}</span></li>
                    {{/each}}
                  </ul>*/-->
                </div>
              </dd>
          </dl>
        </div>        
      </div>
      <div class="row panel-footer">
        <div class="col-xs-8 col-sm-8 col-md-9 col-lg-10 alert-slot">    
        </div>
        <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">  
          <span class="pageInput pull-right">
            <button class="btn btn-primary btn-sm" {{action "createElement"}}>Create Element</button>
           </span>
        </div>        
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="element">

    <div class="modelTitle">

      <h1>{{name}}</h1>
      <h2>with ID: <span>{{id}}</span></h2>
    </div>

    <div class="intro">
      {{selector}}
    </div> 
    <div class="intro">
      Pages to apply: <span>{{pages}}</span>
    </div> 

  </script>

<!-- ****** -->
<!-- CONFIG -->
<!-- ****** -->
  <script type="text/x-handlebars" id="config">

    <div class="modelTitle">

      <h1>Configuration Object</h1>
    </div>    
    <div class="intro config">  
      <div class="container-fluid">
        <div class="row">
          <div class="col-xs-12 col-sm-5 col-md-4">
            <div class="container-fluid panel panel-primary">
              <div class="row panel-heading">
                <div class="col-xs-12">

                  <h4 class="panel-title">Global features:</h4>
                </div>   
              </div>   
              <div class="row panel-body">    
                <div class="col-xs-12 form-group">
                    
                  <label class="inputLabel">Flex ID:</label> 
                  <span> {{input class="form-control" type="text" id="flexID" placeholder="6 Digit code" value=flexID}}</span> 
                </div>
                <div class="col-xs-12 form-group">

                  <label class="inputLabel">Genie J.Code:</label>
                  <span> {{input class="form-control" type="text" id='GenieJC' placeholder="aBceDelkj" value=GenieJC}}</span> 
                </div>
                <div class="col-xs-12 form-group">

                  <label class="inputLabel">Conversion ID:</label> 
                  <span>{{input class="form-control" type="text" id='ConversionID' placeholder="Conversion ID" value=ConversionID}}</span> 
                </div>
                <div class="col-xs-12 form-group">

                  <label class="inputLabel">Segment IDs:</label>
                  <div class="container-fluid">
                    <div class="row">
                          <div class="col-xs-12">
                            {{input class="form-control" type="text" id='SegProdPage' placeholder="Product P." value=SegProdPage}}
                          </div>  
                      </div>  
                    <div class="row">
                      <div class="col-xs-12">
                        {{input class="form-control" type="text" id='SegCompPage' placeholder="Complete P." value=SegCompPage}}
                      </div>
                    </div>  
                    <div class="row">                
                      <div class="col-xs-12">
                        {{input class="form-control" type="text" id='SegROSPage' placeholder="ROS Page" value=SegROSPage}}
                      </div>
                    </div>
                  </div>        
                </div>
              </div>
            </div>
          </div>        
          <div class="col-xs-12 col-sm-7 col-md-8">
            <span class="configBox">

              <span class="configObject">config: {
                <span class="configObject">flexID:<span>{{flexID}}</span>,</span>
                <span class="configObject">GenieJC:<span>{{GenieJC}}</span>,</span>
                <span class="configObject">ConversionID:<span>{{ConversionID}}</span>,</span>
                <span class="configObject">segProdPage:<span>{{SegProdPage}}</span>,</span>
                <span class="configObject">segCompPage:<span>{{SegCompPage}}</span>,</span>
                <span class="configObject">segROSPage:<span>{{SegROSPage}}</span>,</span>
                <span class="configObject">pages:[
                  <span>{{#each elem in pages}}
                    <span class="configObject">{id:<span>{{elem.id}}</span>,</span>
                    <span class="configObject">name:<span>{{elem.name}}</span>,</span>
                    <span class="configObject">pageType:<span>{{elem.pageType}}</span>,</span>
                    <span class="configObject">address:<span>{{elem.address}}</span>,</span>
                    <span class="configObject">elements:[<span>{{elem.elements}}</span>]}</span>
                    <span class="configObject configObjectSeparator">,</span>
                  {{/each}}
                  </span>],
                </span>  
                <span class="configObject">elements:[
                  <span>{{#each elem in elements}}
                    <span class="configObject">{id:<span>{{elem.id}}</span>,</span>
                    <span class="configObject">name:<span>{{elem.name}}</span>,</span>
                    <span class="configObject">pageType:<span>{{elem.selector}}</span>,</span>
                    <span class="configObject">pages:[<span>{{elem.pages}}</span>]}</span>
                    <span class="configObject configObjectSeparator">,</span>
                  {{/each}}
                  </span>]
                </span>               
              }</span>     
            </span>
          </div> 
        </div> 
      </div> 
    </div> 
  </script>

  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/handlebars-v1.3.0.js"></script>
  <script src="js/libs/ember-1.11.0.js"></script>
  <script src="js/libs/ember-data.js"></script>
  <script src="js/libs/ember-template-compiler-1.11.0.js"></script>
  <script src="js/libs/bootstrap.js"></script>
  <script src="js/libs/bootstrap.min.js"></script>
  <script src="js/application.js"></script>
  <script src="js/router.js"></script>
  <script src="js/models/Page.js"></script>
  <script src="js/models/Element.js"></script>
  <script src="js\controllers\Pages_controller.js"></script>
  <script src="tests/runner.js"></script>
</body>
</html>